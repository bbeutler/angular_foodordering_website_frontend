{"version":3,"file":"positioning.helper.js","sourceRoot":"","sources":["../../../../../../.ng_build/theme/components/popover/helpers/positioning.helper.ts"],"names":[],"mappings":"AAKA,OAAO,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEnD,OAAO,EAAE,kBAAkB,EAAE,MAAM,SAAS,CAAC;AAC7C,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;;IAKjD,6BAAuC;QAAA,WAAM,GAAN,MAAM;KAC5C;IAwCD;;SAEK;;;;IACL,0CAAY;;;IAAZ,UAAa,UAAsB,EACtB,IAAgB,EAChB,SAA6B;QACxC,IAAM,kBAAkB,GAAa,mBAAmB,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;QACvF,IAAM,QAAQ,GAAG,kBAAkB,CAAC,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;QAEnG,QAAQ,CAAC,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QACxC,QAAQ,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QAEzC,MAAM,CAAC,QAAQ,CAAC;KACjB;;;;qCAhDmC,EAAE;;;;;QAMpC,GAAC,kBAAkB,CAAC,GAAG,IAAvB,UAAyB,UAAsB,EAAE,IAAgB;YAC/D,MAAM,CAAC;gBACL,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,MAAM,GAAG,mBAAmB,CAAC,UAAU;gBAClE,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,UAAU,CAAC,KAAK,GAAG,CAAC;aACxD,CAAA;SACF;QAED,GAAC,kBAAkB,CAAC,MAAM,IAA1B,UAA4B,UAAsB,EAAE,IAAgB;YAClE,MAAM,CAAC;gBACL,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,mBAAmB,CAAC,UAAU;gBAC5D,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,UAAU,CAAC,KAAK,GAAG,CAAC;aACxD,CAAA;SACF;QAED,GAAC,kBAAkB,CAAC,IAAI,IAAxB,UAA0B,UAAsB,EAAE,IAAgB;YAChE,MAAM,CAAC;gBACL,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC;gBACvD,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,KAAK,GAAG,mBAAmB,CAAC,UAAU;aACpE,CAAA;SACF;QAED,GAAC,kBAAkB,CAAC,KAAK,IAAzB,UAA2B,UAAsB,EAAE,IAAgB;YACjE,MAAM,CAAC;gBACL,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC;gBACvD,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,mBAAmB,CAAC,UAAU;aAC9D,CAAA;SACF;;;gBAzCJ,UAAU;;;;gDAGI,MAAM,SAAC,SAAS;;8BAb/B;;SAWa,mBAAmB","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\nimport { Injectable, Inject } from '@angular/core';\n\nimport { NbPopoverPlacement } from './model';\nimport { NB_WINDOW } from '../../../theme.options';\n\n@Injectable()\nexport class NbPositioningHelper {\n\n  constructor(@Inject(NB_WINDOW) private window) {\n  }\n\n  /**\n   * Describes height of the popover arrow.\n   * */\n  private static ARROW_SIZE: number = 10;\n\n  /**\n   * Contains position calculators for all {@link NbPopoverPlacement}\n   * */\n  private static positionCalculator = {\n    [NbPopoverPlacement.TOP](positioned: ClientRect, host: ClientRect): { top: number, left: number } {\n      return {\n        top: host.top - positioned.height - NbPositioningHelper.ARROW_SIZE,\n        left: host.left + host.width / 2 - positioned.width / 2,\n      }\n    },\n\n    [NbPopoverPlacement.BOTTOM](positioned: ClientRect, host: ClientRect): { top: number, left: number } {\n      return {\n        top: host.top + host.height + NbPositioningHelper.ARROW_SIZE,\n        left: host.left + host.width / 2 - positioned.width / 2,\n      }\n    },\n\n    [NbPopoverPlacement.LEFT](positioned: ClientRect, host: ClientRect): { top: number, left: number } {\n      return {\n        top: host.top + host.height / 2 - positioned.height / 2,\n        left: host.left - positioned.width - NbPositioningHelper.ARROW_SIZE,\n      }\n    },\n\n    [NbPopoverPlacement.RIGHT](positioned: ClientRect, host: ClientRect): { top: number, left: number } {\n      return {\n        top: host.top + host.height / 2 - positioned.height / 2,\n        left: host.left + host.width + NbPositioningHelper.ARROW_SIZE,\n      }\n    },\n  };\n\n  /**\n   * Calculates position of the element relatively to the host element based on the placement.\n   * */\n  calcPosition(positioned: ClientRect,\n               host: ClientRect,\n               placement: NbPopoverPlacement): { top: number, left: number } {\n    const positionCalculator: Function = NbPositioningHelper.positionCalculator[placement];\n    const position = positionCalculator.call(NbPositioningHelper.positionCalculator, positioned, host);\n\n    position.top += this.window.pageYOffset;\n    position.left += this.window.pageXOffset;\n\n    return position;\n  }\n}\n"]}