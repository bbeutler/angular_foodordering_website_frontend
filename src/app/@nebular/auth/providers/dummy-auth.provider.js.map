{"version":3,"file":"dummy-auth.provider.js","sourceRoot":"","sources":["../../../../.ng_build/auth/providers/dummy-auth.provider.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAE3C,OAAO,EAAc,EAAE,IAAI,YAAY,EAAE,MAAM,MAAM,CAAC;AACtD,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAEvC,OAAO,EAAE,sBAAsB,EAAE,MAAM,0BAA0B,CAAC;AAClE,OAAO,EAAE,YAAY,EAAE,MAAM,yBAAyB,CAAC;;IAQd,uCAAsB;;;8BAER;YACnD,KAAK,EAAE,IAAI;SACZ;;;IAED,0CAAY,GAAZ,UAAa,IAAU;QACrB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aAC9C,IAAI,CACH,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACpC,CAAC;KACL;IAED,sCAAQ,GAAR,UAAS,IAAU;QACjB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aAC9C,IAAI,CACH,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACpC,CAAC;KACL;IAED,6CAAe,GAAf,UAAgB,IAAU;QACxB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aAC9C,IAAI,CACH,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACpC,CAAC;KACL;IAED,2CAAa,GAAb,UAAc,IAAU;QACtB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aAC9C,IAAI,CACH,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACpC,CAAC;KACL;IAED,oCAAM,GAAN,UAAO,IAAU;QACf,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aAC9C,IAAI,CACH,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACpC,CAAC;KACL;IAED,0CAAY,GAAZ,UAAa,IAAU;QACrB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;aAC9C,IAAI,CACH,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CACpC,CAAC;KACL;IAES,+CAAiB,GAA3B,UAA4B,IAAU;QACpC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;;YAEtC,MAAM,CAAC,IAAI,YAAY,CAAC,KAAK,EAC3B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAC7B,IAAI,EACJ,CAAC,uBAAuB,CAAC,CAAC,CAAC;SAC9B;;QAGD,MAAM,CAAC,IAAI,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,yBAAyB,CAAC,CAAC,CAAC;KACnG;;gBA5DF,UAAU;;8BAbX;EAcyC,sBAAsB;SAAlD,mBAAmB","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Observable, of as observableOf } from 'rxjs';\nimport { delay } from 'rxjs/operators';\n\nimport { NbAbstractAuthProvider } from './abstract-auth.provider';\nimport { NbAuthResult } from '../services/auth-result';\n\nexport interface NbDummyAuthProviderConfig {\n  delay?: number;\n  alwaysFail?: boolean;\n}\n\n@Injectable()\nexport class NbDummyAuthProvider extends NbAbstractAuthProvider {\n\n  protected defaultConfig: NbDummyAuthProviderConfig = {\n    delay: 1000,\n  };\n\n  authenticate(data?: any): Observable<NbAuthResult> {\n    return observableOf(this.createDummyResult(data))\n      .pipe(\n        delay(this.getConfigValue('delay')),\n      );\n  }\n\n  register(data?: any): Observable<NbAuthResult> {\n    return observableOf(this.createDummyResult(data))\n      .pipe(\n        delay(this.getConfigValue('delay')),\n      );\n  }\n\n  requestPassword(data?: any): Observable<NbAuthResult> {\n    return observableOf(this.createDummyResult(data))\n      .pipe(\n        delay(this.getConfigValue('delay')),\n      );\n  }\n\n  resetPassword(data?: any): Observable<NbAuthResult> {\n    return observableOf(this.createDummyResult(data))\n      .pipe(\n        delay(this.getConfigValue('delay')),\n      );\n  }\n\n  logout(data?: any): Observable<NbAuthResult> {\n    return observableOf(this.createDummyResult(data))\n      .pipe(\n        delay(this.getConfigValue('delay')),\n      );\n  }\n\n  refreshToken(data?: any): Observable<NbAuthResult> {\n    return observableOf(this.createDummyResult(data))\n      .pipe(\n        delay(this.getConfigValue('delay')),\n      );\n  }\n\n  protected createDummyResult(data?: any): NbAuthResult {\n    if (this.getConfigValue('alwaysFail')) {\n      // TODO we dont call tokenService clear during logout in case result is not success\n      return new NbAuthResult(false,\n        this.createFailResponse(data),\n        null,\n        ['Something went wrong.']);\n    }\n\n    // TODO is it missed messages here, is it token should be defined\n    return new NbAuthResult(true, this.createSuccessResponse(data), '/', ['Successfully logged in.']);\n  }\n}\n"]}